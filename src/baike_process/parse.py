import base64
import glob
import HTMLParser
import json
import os
import re
import sys

from ..IOUtil import result_dir

html_parser = HTMLParser.HTMLParser()
reload(sys)
sys.setdefaultencoding('utf-8')

def parse_info_value(info_values):
    global html_parser
    # to do
    # parse multi value in one slot
    info_values = [html_unescape(x) for x in info_values]
    return info_values        

def parse_entity_info(info_list):
    infos = {}
    for info in info_list:
        name = info['name']
        value = parse_info_value(info['value'])
        infos[name] = value
    return infos

url_pattern = re.compile(r'http://baike\.so\.com/doc/(?P<eid>\d+)-(?P<sid>\d+)\.html')
def parse_id_from_url(url):
    global url_pattern
    match = url_pattern.match(url)
    if match:
        return int(match.group('eid')), int(match.group('sid'))
    else:
        return -1, -1

def html_unescape(html_str):
    global html_parser
    if html_str:
        html_str = html_parser.unescape(html_str)
    return html_str

def parse_ename(obj):
    global html_parser
    ename = None
    if 'entry_feature' in obj:
        ename = obj['entry_feature'].get('ename')
    if not ename and 'entry_info' in obj:
        ename = obj['entry_info'].get('ename')
    return html_unescape(ename)

def parse_title(obj):
    global html_parser
    title = None
    if 'intro_info' in obj and type(obj['intro_info']) == dict:
        title = obj['intro_info']['title']
    return html_unescape(title)
    
def parse_summary(obj):
    global html_parser
    summary = None
    if 'intro_info' in obj:
        intro_info = obj['intro_info']
        if 'summary' in intro_info:
            summary = intro_info['summary']
    if summary:
        return html_unescape(summary)
    else:
        return None

def parse_doc(obj):
    global html_parser
    pass

def parse_line(line):
    try:
        tokens = line.strip().split('\t')
        url = tokens[0]
        content = json.loads(base64.b64decode(tokens[1]))
        return url, content
    except Exception, e:
        return None, None
    

def strip_url(url):
    if url.startswith("http://"):
        url = url[len('http://'):]
    return url

def check_valid(attr):
    # if 'ename' in attr and 'title' in attr:
    #     if attr['ename'] != attr['title']:
    #         print "error: different name", attr['url'], attr['ename'], attr['title']
    if not 'title' in attr or not 'ename' in attr:
        print 'fatal error: no name', attr['url']
        return False
    return True
    
        
def parse(filepath, outf):
    print "parse file [%s]" %os.path.basename(filepath)
    cnt = 0
    for line in file(filepath):
        cnt += 1
        url, obj = parse_line(line)
        if url is None:
            print "fatal error: parse_line error, ", line
            continue
        attr = {'url': url}

        ename = parse_ename(obj)
        if ename:
            attr['ename'] = ename

        title = parse_title(obj)
        if 'intro_info' in obj and type(obj['intro_info']) == dict:
            attr['title'] = obj['intro_info']['title']
        attr['info'] = parse_entity_info(obj.get('info_model', []))

        if check_valid(attr):
            outf.write(strip_url(url) + "\t" + json.dumps(attr, ensure_ascii = False) + '\n')

def test():
    content = 'eyJpbmZvX21vZGVsIjpbeyJtb2R1bGVfbmFtZSI6IiIsIm1vZHVsZV9zb3J0IjowLCJuYW1lIjoiXHU0ZTJkXHU2NTg3XHU1NDBkXHU3OWYwIiwibmlja19uYW1lIjoibmFtZUMiLCJ2YWx1ZSI6WyJcdTUzZjJcdTY5NWFcdTk1MjFcdTZkNDFcdTZkNmFcdThiYjAiXX0seyJtb2R1bGVfbmFtZSI6IiIsIm1vZHVsZV9zb3J0IjowLCJuYW1lIjoiXHU1OTE2XHU2NTg3XHU1NDBkXHU3OWYwIiwibmlja19uYW1lIjoibmFtZUUiLCJ2YWx1ZSI6WyJTdHJvc3playJdfSx7Im5hbWUiOiJcdTUyMzZcdTcyNDdcdTU3MzBcdTUzM2EiLCJuaWNrX25hbWUiOiJtb2RlbEN1c3RvbSIsInZhbHVlIjpbIlx1ODk3Zlx1NWZiNyJdfSx7Im5hbWUiOiJcdTViZmNcdTZmMTQiLCJuaWNrX25hbWUiOiJtb2RlbEN1c3RvbSIsInZhbHVlIjpbIlx1NmM4M1x1N2ViM1x1MDBiN1x1OGQ2Ylx1NWMxNFx1NGY1MFx1NjgzYyJdfSx7Im5hbWUiOiJcdTdmMTZcdTUyNjciLCJuaWNrX25hbWUiOiJtb2RlbEN1c3RvbSIsInZhbHVlIjpbIlx1NmM4M1x1N2ViM1x1MDBiN1x1OGQ2Ylx1NWMxNFx1NGY1MFx1NjgzYyJdfSx7Im5hbWUiOiJcdTdjN2JcdTU3OGIiLCJuaWNrX25hbWUiOiJtb2RlbEN1c3RvbSIsInZhbHVlIjpbIlx1NTI2N1x1NjBjNSJdfSx7Im5hbWUiOiJcdTRlM2JcdTZmMTQiLCJuaWNrX25hbWUiOiJtb2RlbEN1c3RvbSIsInZhbHVlIjpbIlx1NWUwM1x1OWM4MVx1OGJmYVx1MDBiN1x1NjVhZlx1NTIxN1x1NjVhZlx1NTc2Nlx1ZmYwY0V2YSBNYXR0ZXMiXX0seyJuYW1lIjoiXHU3MjQ3XHU5NTdmIiwibmlja19uYW1lIjoibW9kZWxDdXN0b20iLCJ2YWx1ZSI6WyIxMTVcdTUyMDZcdTk0OWYiXX0seyJuYW1lIjoiXHU0ZTBhXHU2NjIwXHU2NWY2XHU5NWY0Iiwibmlja19uYW1lIjoibW9kZWxDdXN0b20iLCJ2YWx1ZSI6WyIxOTc3XHU1ZTc0MVx1NjcwODEyXHU2NWU1Il19LHsibmFtZSI6Ilx1NWJmOVx1NzY3ZFx1OGJlZFx1OGEwMCIsIm5pY2tfbmFtZSI6Im1vZGVsQ3VzdG9tIiwidmFsdWUiOlsiXHU4MmYxXHU4YmVkXHVmZjBjXHU1ZmI3XHU4YmVkIl19LHsibmFtZSI6Ilx1ODI3Mlx1NWY2OSIsIm5pY2tfbmFtZSI6Im1vZGVsQ3VzdG9tIiwidmFsdWUiOlsiXHU1ZjY5XHU4MjcyIl19LHsibmFtZSI6ImltZGJcdTdmMTZcdTc4MDEiLCJuaWNrX25hbWUiOiJtb2RlbEN1c3RvbSIsInZhbHVlIjpbInR0MDA3NTI3NiJdfV0sImludHJvX2luZm8iOnsidGl0bGUiOiJcdTUzZjJcdTY5NWFcdTk1MjFcdTZkNDFcdTZkNmFcdThiYjAiLCJlbnRyeVR5cGUiOiIxIiwic3VtbWFyeSI6Ilx1NjcyY1x1NzI0N1x1NTNjZFx1NjYyMFx1NWZiN1x1NTZmZFx1NmQ0MVx1NGVhMVx1ODAwNVx1NTcyOFx1N2Y4ZVx1NTZmZFx1NzY4NFx1NjBiMlx1NjBlOFx1NTQ3ZFx1OGZkMFx1NTNjYVx1NjY2ZVx1OTAxYVx1NGViYVx1NTcyOFx1NTUyZlx1NTIyOVx1NjYyZlx1NTZmZVx1NzY4NFx1NzkzZVx1NGYxYVx1OTZiZVx1NGVlNVx1NjI3ZVx1NTIzMFx1NGY0ZFx1N2Y2ZVx1NzY4NFx1NjBiMlx1NTI2N1x1MzAwMlx1NmM4M1x1N2ViM1x1MDBiN1x1OGQ2Ylx1NWMxNFx1NGY1MFx1NjgzY1x1NTAxZlx1NTNmMlx1Njk1YVx1OTUyMVx1NGU0Ylx1NTNlM1x1NTkyN1x1OWE4Mlx1N2Y4ZVx1NTZmZFx1OGQ0NFx1NjcyY1x1NGUzYlx1NGU0OVx1NWJmOVx1OGQyYlx1NmMxMVx1NzY4NFx1NTI2NVx1NTI0YVx1ZmYwY1x1NWM1NVx1NzNiMFx1NGVkNlx1NGUwMFx1OGQyZlx1NzNhZlx1NTg4M1x1NGUwZVx1NGViYVx1NjAyN1x1NzY4NFx1NGUzYlx1OTg5OFx1MzAwMlx1NGU1Zlx1NGUzYVx1NzNiMFx1NWI5ZVx1NzUxZlx1NmQzYlx1NGUyZFx1NzY4NFx1NGViYVx1NGVlY1x1NjU3Mlx1NTRjZFx1OGI2Nlx1OTQ5Zlx1MzAwMiIsImZpcnN0aW1nIjoiaHR0cDpcL1wvcDEucWhtc2cuY29tXC9kclwvNDI0XzYwMF9cL3QwMWM5Mjg2ZDFiOWM5OWU4MTEuanBnIiwidXJsIjoiaHR0cDpcL1wvYmFpa2Uuc28uY29tXC9kb2NcLzM5NDYyMDYtNDE0MTIwMy5odG1sIiwic2VjdGlvbiI6W3sic2VjdGlvblRpdGxlIjoiXHU1MTg1XHU1YmI5XHU0ZWNiXHU3ZWNkIiwic2VjdGlvbkxpbmtfbSI6Imh0dHA6XC9cL20uYmFpa2Uuc28uY29tXC9kb2NcLzM5NDYyMDYuaHRtbD9zaWQ9NDE0MTIwMyZhbmNob3I9MSMzOTQ2MjA2LTQxNDEyMDMtMSIsInNlY3Rpb25MaW5rIjoiaHR0cDpcL1wvYmFpa2Uuc28uY29tXC9kb2NcLzM5NDYyMDYtNDE0MTIwMy5odG1sIzM5NDYyMDYtNDE0MTIwMy0xIn0seyJzZWN0aW9uVGl0bGUiOiJcdTZmMTRcdTU0NThcdTg4NjgiLCJzZWN0aW9uTGlua19tIjoiaHR0cDpcL1wvbS5iYWlrZS5zby5jb21cL2RvY1wvMzk0NjIwNi5odG1sP3NpZD00MTQxMjAzJmFuY2hvcj0yIzM5NDYyMDYtNDE0MTIwMy0yIiwic2VjdGlvbkxpbmsiOiJodHRwOlwvXC9iYWlrZS5zby5jb21cL2RvY1wvMzk0NjIwNi00MTQxMjAzLmh0bWwjMzk0NjIwNi00MTQxMjAzLTIifSx7InNlY3Rpb25UaXRsZSI6Ilx1NWY3MVx1NzI0N1x1OGQ0Zlx1Njc5MCIsInNlY3Rpb25MaW5rX20iOiJodHRwOlwvXC9tLmJhaWtlLnNvLmNvbVwvZG9jXC8zOTQ2MjA2Lmh0bWw/c2lkPTQxNDEyMDMmYW5jaG9yPTMjMzk0NjIwNi00MTQxMjAzLTMiLCJzZWN0aW9uTGluayI6Imh0dHA6XC9cL2JhaWtlLnNvLmNvbVwvZG9jXC8zOTQ2MjA2LTQxNDEyMDMuaHRtbCMzOTQ2MjA2LTQxNDEyMDMtMyJ9LHsic2VjdGlvblRpdGxlIjoiXHU1ZTU1XHU1NDBlXHU4MmIxXHU3ZDZlIiwic2VjdGlvbkxpbmtfbSI6Imh0dHA6XC9cL20uYmFpa2Uuc28uY29tXC9kb2NcLzM5NDYyMDYuaHRtbD9zaWQ9NDE0MTIwMyZhbmNob3I9NCMzOTQ2MjA2LTQxNDEyMDMtNCIsInNlY3Rpb25MaW5rIjoiaHR0cDpcL1wvYmFpa2Uuc28uY29tXC9kb2NcLzM5NDYyMDYtNDE0MTIwMy5odG1sIzM5NDYyMDYtNDE0MTIwMy00In0seyJzZWN0aW9uVGl0bGUiOiJcdTVmNzFcdTcyNDdcdTgzYjdcdTU5NTYiLCJzZWN0aW9uTGlua19tIjoiaHR0cDpcL1wvbS5iYWlrZS5zby5jb21cL2RvY1wvMzk0NjIwNi5odG1sP3NpZD00MTQxMjAzJmFuY2hvcj01IzM5NDYyMDYtNDE0MTIwMy01Iiwic2VjdGlvbkxpbmsiOiJodHRwOlwvXC9iYWlrZS5zby5jb21cL2RvY1wvMzk0NjIwNi00MTQxMjAzLmh0bWwjMzk0NjIwNi00MTQxMjAzLTUifSx7InNlY3Rpb25UaXRsZSI6Ilx1NGUwYVx1NjYyMFx1NjVlNVx1NjcxZiIsInNlY3Rpb25MaW5rX20iOiJodHRwOlwvXC9tLmJhaWtlLnNvLmNvbVwvZG9jXC8zOTQ2MjA2Lmh0bWw/c2lkPTQxNDEyMDMmYW5jaG9yPTYjMzk0NjIwNi00MTQxMjAzLTYiLCJzZWN0aW9uTGluayI6Imh0dHA6XC9cL2JhaWtlLnNvLmNvbVwvZG9jXC8zOTQ2MjA2LTQxNDEyMDMuaHRtbCMzOTQ2MjA2LTQxNDEyMDMtNiJ9LHsic2VjdGlvblRpdGxlIjoiXHU1MjM2XHU0ZjVjXHU1M2QxXHU4ODRjIiwic2VjdGlvbkxpbmtfbSI6Imh0dHA6XC9cL20uYmFpa2Uuc28uY29tXC9kb2NcLzM5NDYyMDYuaHRtbD9zaWQ9NDE0MTIwMyZhbmNob3I9NyMzOTQ2MjA2LTQxNDEyMDMtNyIsInNlY3Rpb25MaW5rIjoiaHR0cDpcL1wvYmFpa2Uuc28uY29tXC9kb2NcLzM5NDYyMDYtNDE0MTIwMy5odG1sIzM5NDYyMDYtNDE0MTIwMy03In1dfSwiY29udGVudCI6eyJjb250ZW50Ijp7IjEiOnsic2VjdGlvbl90aXRsZSI6Ilx1NTE4NVx1NWJiOVx1NGVjYlx1N2VjZCIsInNlY3Rpb25fY29udGVudCI6IjxwPlx1MjAwYlx1NTIxYVx1NTIxYVx1NTIxMVx1NmVlMVx1OTFjYVx1NjUzZVx1NzY4NFx1ODg1N1x1NTkzNFx1ODI3YVx1NGViYVx1NTNmMlx1Njk1YVx1OTUyMVx1NTNkMVx1OGE5M1x1NGUwZFx1NTE4ZFx1OTk2ZVx1OTE1Mlx1ZmYwY1x1NGY0Nlx1NWY4OFx1NWZlYlx1NGZiZlx1NTcyOFx1NGUwMFx1OTVmNFx1OTE1Mlx1OTVmNFx1OTFjY1x1OTFjZFx1NjViMFx1NjI3ZVx1NTZkZVx1NGU4Nlx1ODFlYVx1NjIxMVx1ZmYwY1x1NWU3Nlx1ODljMVx1NTIzMFx1OGQ3MFx1NjI5NVx1NjVlMFx1OGRlZlx1NzY4NDxhIGhyZWY9XCJodHRwOlwvXC9wMy5xaG1zZy5jb21cL3QwMTAwZDFhMDUzOWQyZGQ1MDIuanBnXCIgIGNsYXNzPVwic2hvdy1pbWcgbGF5b3V0cmlnaHRcIiBkYXRhLXR5cGU9XCJnYWxsZXJ5XCI+PHNwYW4gY2xhc3M9XCJzaG93LWltZy1oZFwiICBzdHlsZT1cIndpZHRoOjIyMHB4O2hlaWdodDoxMjNweDtcIj48aW1nIGlkPVwiaW1nXzEwOTEzMzY0XCIgIHRpdGxlPVwiXHU1ZjcxXHU3MjQ3XHU1MjY3XHU3MTY3XCIgYWx0PVwiXHU1ZjcxXHU3MjQ3XHU1MjY3XHU3MTY3XCIgZGF0YS1pbWc9XCJtb2RfaW1nXCIgZGF0YS1zcmM9XCJodHRwOlwvXC9wMy5xaG1zZy5jb21cL2RyXC8yMjBfX1wvdDAxMDBkMWEwNTM5ZDJkZDUwMi5qcGdcIiAgc3R5bGU9XCJ3aWR0aDoyMjBweDtoZWlnaHQ6MTIzcHg7XCIgXC8+PFwvc3Bhbj48c3BhbiBjbGFzcz1cInNob3ctaW1nLWJkXCI+XHU1ZjcxXHU3MjQ3XHU1MjY3XHU3MTY3PFwvc3Bhbj48XC9hPiBcdTgwMDFcdTU5NzNcdTUzY2JcdTU5OTNcdTU5NzNcdTU3YzNcdTVhMDNcdWZmMGNcdTRlMjRcdTRlYmFcdTRlMDBcdTYyY2RcdTUzNzNcdTU0MDhcdWZmMGNcdTUxYjNcdTViOWFcdTkxY2RcdTY1YjBcdTUwNWFcdTRlYmFcdTMwMDJcdTRmNDZcdTczYjBcdTViOWVcdTY2MmZcdTZiOGJcdTkxNzdcdTc2ODRcdWZmMGNcdTVmODhcdTVmZWJcdTRlZDZcdTRlZWNcdTYxMWZcdTUyMzBcdTY1ZTBcdTZjZDVcdTU3MjhcdTdlZTdcdTdlZWRcdTRlMGJcdTUzYmJcdTRlODZcdTMwMDJcdTU3MjhcdTUxNzZcdTUzZTRcdTYwMmFcdTc2ODRcdTgwMDFcdTkwYmJcdTVjNDVcdTc2ODRcdTYwMDJcdTYwN2ZcdTRlMGJcdWZmMGNcdTRlZDZcdTRlZWNcdTUxYjNcdTViOWFcdTUyNGRcdTVmODBcdTdmOGVcdTU2ZmRcdTUyMWJcdTRlMWFcdWZmMGNcdTRmNDZcdTk5OTZcdTUxNDhcdTg5ODFcdTg5ZTNcdTUxYjNcdThkZWZcdThkMzlcdTk1ZWVcdTk4OThcdTMwMDJcdTU5N2RcdTU3MjhcdTU3YzNcdTVhMDNcdTk3NjBcdTUzNTZcdTZkZWJcdTVmODhcdTVmZWJcdTVmOTdcdTUyMzBcdTRlODZcdThkZWZcdThkMzlcdWZmMGNcdTRlMDlcdTRlMmFcdTRlYmFcdTRlOGVcdTY2MmZcdTRlMDBcdTkwNTNcdTUzYmJcdTRlODZcdTdmOGVcdTU2ZmRcdTMwMDJcdTU3MjhcdTdmOGVcdTU2ZmRcdWZmMGNcdTUzZjJcdTY5NWFcdTk1MjFcdTVlNzJcdThkNzdcdTRlODZcdTRmZWVcdThmNjZcdTVkZTVcdTc2ODRcdTVkZTVcdTRmNWNcdWZmMGNcdTU3YzNcdTVhMDNcdTUyMTlcdTVmNTNcdTRlMGFcdTRlODZcdTY3MGRcdTUyYTFcdTU0NThcdWZmMGNcdTgwMDFcdTkwYmJcdTVjNDVcdTUyMTlcdTU3MjhcdThmZGJcdTg4NGNcdTRlZDZcdTYyNDBcdThjMTNcdTc2ODRcdTc5ZDFcdTc4MTRcdTVkZTVcdTRmNWNcdWZmMGNcdTRlOGJcdTYwYzVcdTRmM2NcdTRlNGVcdTk3NWVcdTVlMzhcdTk4N2FcdTUyMjlcdTMwMDJcdTdiNDlcdTUyMzBcdTY3MDlcdTRlMDBcdTViOWFcdTc2ODRcdTY1MzZcdTUxNjVcdTU0MGVcdWZmMGNcdTRlZDZcdTRlZWNcdTc2ODRcdTdmOGVcdTU2ZmRcdTY3MGJcdTUzY2JcdTVlZmFcdThiYWVcdTRlZDZcdTRlZWNcdTUxNDhcdThkMzdcdTZiM2VcdTRlNzBcdTRlMGJcdTUyMDZcdTY3MWZcdTRlZDhcdTZiM2VcdTc2ODRcdTc5ZmJcdTUyYThcdTYyM2ZcdTMwMDJcdTRlOGVcdTY2MmZcdTRlZDZcdTRlZWNcdTc3MWZcdTVmOTdcdTRlNzBcdTUyMzBcdTRlODZcdTc5ZmJcdTUyYThcdTYyM2ZcdWZmMGNcdTgwMGNcdTRlMTRcdTYxMWZcdTg5YzlcdTUyMzBcdTdmOGVcdTU2ZmRcdThmZDhcdTc3MWZcdTc2ODRcdTY2MmZcdTUzZWZcdTRlZTVcdTg0M2RcdTU3MzBcdTc1MWZcdTY4MzlcdTc2ODRcdTMwMDJcdTRmNDZcdTVmODhcdTVmZWJcdTUyMzBcdTRlODZcdTUyMDZcdTY3MWZcdTRlZDhcdTZiM2VcdTc2ODRcdTdiMmNcdTRlMDBcdTY3MWZcdWZmMGNcdTk0ZjZcdTg4NGNcdTc2ODRcdTRlYmFcdThmYzdcdTY3NjVcdTUwYWNcdTZiM2VcdWZmMGNcdTU3YzNcdTVhMDNcdTRlMGRcdTVmOTdcdTVkZjJcdTUxOGRcdTZiMjFcdTVlNzJcdThkNzdcdTRlODZcdTU5OTNcdTU5NzNcdTc2ODRcdTUyZmVcdTVmNTNcdWZmMGNcdTUzZjJcdTY5NWFcdTk1MjFcdTUzZDFcdTczYjBcdTU0MGVcdTVmMDJcdTVlMzhcdTYwN2NcdTcwNmJcdWZmMGNcdTVlNzZcdTUxYjNcdTViOWFcdTRlMGVcdTU3YzNcdTVhMDNcdTdlZGRcdTRlYTRcdTMwMDJcdTdiMmNcdTRlOGNcdTY3MWZcdTRlZDhcdTZiM2VcdTY1ZjZcdTk1ZjRcdTUzYzhcdTUyMzBcdTRlODZcdWZmMGNcdTUzZjJcdTY5NWFcdTk1MjFcdTVmODhcdTY2MGVcdTc2N2RcdTUzNTVcdTk3NjBcdTgxZWFcdTVkZjFcdTc2ODRcdTVmYWVcdTg1ODRcdTY1MzZcdTUxNjVcdTY2MmZcdTY1ZTBcdTZjZDVcdTRlZDhcdTZiM2VcdTc2ODRcdTMwMDJcdTY1ZTBcdTU5NDhcdTRlNGJcdTRlMGJcdWZmMGNcdTc5ZmJcdTUyYThcdTYyM2ZcdTRlNWZcdTg4YWJcdTk0ZjZcdTg4NGNcdTZjYTFcdTY1MzZcdTRlODZcdWZmMGNcdTUzZjJcdTY5NWFcdTk1MjFcdTUzZDhcdTVmOTdcdTRlMDBcdTY1ZTBcdTYyNDBcdTY3MDlcdWZmMGNcdTkxY2RcdTY1YjBcdTUzZDhcdTYyMTBcdTRlODZcdTZkNDFcdTZkNmFcdTZjNDlcdTMwMDJcdTgwMDFcdTkwYmJcdTVjNDVcdTg5YzlcdTVmOTdcdTRlMGFcdTRlODZcdTk0ZjZcdTg4NGNcdTc2ODRcdTVmNTNcdWZmMGNcdTRlOGVcdTY2MmZcdTUxYjNcdTViOWFcdThkZGZcdTUzZjJcdTY5NWFcdTk1MjFcdTRlMDBcdThkNzdcdTUyMzBcdTk0ZjZcdTg4NGNcdThiYThcdTRlMmFcdTUxNmNcdTkwNTNcdTMwMDJcdTRlZDZcdTRlZWNcdTc1MjhcdTY3YWFcdTkwM2NcdTk0ZjZcdTg4NGNcdTRlYTRcdTUxZmFcdTgxZWFcdTVkZjFcdTRlZDhcdTc2ODRcdTU5MzRcdTY3MWZcdTU0MGVcdWZmMGNcdTU3MjhcdTk0ZjZcdTg4NGNcdTViZjlcdTk3NjJcdTc2ODRcdThkODVcdTVlMDJcdTkxY2NcdTU5MjdcdTgwODZcdTYzMjVcdTk3MGRcdWZmMGNcdThiNjZcdTViZGZcdTVmODhcdTVmZWJcdTVjMzFcdTYyOTNcdThkNzBcdTRlODZcdTgwMDFcdTkwYmJcdTVjNDVcdWZmMGNcdTUzZjJcdTY5NWFcdTk1MjFcdTUyMTlcdTVmMDBcdThmNjZcdTkwMDNcdThkNzBcdTMwMDJcdTdlZGRcdTY3MWJcdTRlMmRcdWZmMGNcdTUzZjJcdTY5NWFcdTk1MjFcdTVmODhcdTVmZWJcdTVjMzFcdTgyYjFcdTUxNDlcdTRlODZcdTYyNDBcdTY3MDlcdTc2ODRcdTk0YjFcdWZmMGNcdTVlNzZcdTU3MjhcdTRlMDBcdTViYjZcdTZlMzhcdTRlNTBcdTU3M2FcdTkxY2NcdTVmMDBcdTY3YWFcdTgxZWFcdTY3NDBcdTRlODZcdTMwMDI8XC9wPiJ9LCIyIjp7InNlY3Rpb25fdGl0bGUiOiJcdTZmMTRcdTU0NThcdTg4NjgiLCJzZWN0aW9uX2NvbnRlbnQiOiI8dGFibGU+PHRoZWFkPjx0cj48dGggd2lkdGg9XCIxMzBcIj5cdTg5ZDJcdTgyNzI8XC90aD48dGggd2lkdGg9XCIxMzBcIj5cdTZmMTRcdTU0NTg8XC90aD48XC90cj48XC90aGVhZD48dGJvZHk+PHRyPjx0ZD5TY2hlaXR6PFwvdGQ+PHRkPlx1NTE0Ylx1ODNiMVx1OTVlOFx1NjVhZlx1MDBiN1x1NTNmMlx1Njk1YVx1OTUyMUNsZW1lbnMgU2NoZWl0ejxcL3RkPjxcL3RyPjx0cj48dGQ+U291dGVuZXVyPFwvdGQ+PHRkPlx1NWEwMVx1OGQ2Ylx1NTljNlx1MDBiN1x1NTFhZlx1MDBiN1x1OTcwZFx1NTljNlx1NGYyZlx1NjgzY1dpbGhlbG0gdm9uIEhvbWJ1cmc8XC90ZD48XC90cj48dHI+PHRkPlNvdXRlbmV1cjxcL3RkPjx0ZD5CdXJraGFyZCBEcmllc3Q8XC90ZD48XC90cj48dHI+PHRkPk1lY2hhbmljPFwvdGQ+PHRkPkNsYXl0b24gU3phbHBpbnNraTxcL3RkPjxcL3RyPjx0cj48dGQ+SW5kaWFuIG1lY2hhbmljJ3MgaGVscGVyPFwvdGQ+PHRkPkVseSBSb2RyaWd1ZXo8XC90ZD48XC90cj48dHI+PHRkPkphaWwgaGVhZG1hc3RlcjxcL3RkPjx0ZD5BbGZyZWQgRWRlbDxcL3RkPjxcL3RyPjx0cj48dGQ+U2NvdHQ8XC90ZD48dGQ+U2NvdHQgTWNLYWluPFwvdGQ+PFwvdHI+PHRyPjx0ZD5BdWN0aW9uZWVyPFwvdGQ+PHRkPlJhbHBoIFdhZGU8XC90ZD48XC90cj48dHI+PHRkPlByaXNvbmVyIEhvc3M8XC90ZD48dGQ+TWljaGFlbCBHYWhyPFwvdGQ+PFwvdHI+PHRyPjx0ZD48YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiXC9kb2NcLzk2NjU3MzktMTAwMTE3OTYuaHRtbFwiPkRvY3RvcjxcL2E+PFwvdGQ+PHRkPlZhY2xhdiBWb2p0YTxcL3RkPjxcL3RyPjx0cj48dGQ+VHVyayBwcmlzb25lcjxcL3RkPjx0ZD5ZdWVjc2VsIFRvcGN1Z3VlcmxlcjxcL3RkPjxcL3RyPjx0cj48dGQ+U291dGVuZXVyPFwvdGQ+PHRkPlBpdCBCZWRld2l0ejxcL3RkPjxcL3RyPjx0cj48dGQ+PGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIlwvZG9jXC85NzgzNTIwLTEwMTMwMjM2Lmh0bWxcIj5Cb2IgRXZhbnM8XC9hPjxcL3RkPjx0ZD48YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiXC9kb2NcLzk3ODM1MjAtMTAxMzAyMzYuaHRtbFwiPkJvYiBFdmFuczxcL2E+PFwvdGQ+PFwvdHI+PHRyPjx0ZD5CZW88XC90ZD48dGQ+RGVyIEJyYXZlIEJlbzxcL3RkPjxcL3RyPjx0cj48dGQ+VHJ1Y2tlciBQaW1wPFwvdGQ+PHRkPkFsPFwvdGQ+PFwvdHI+PHRyPjx0ZD5EZXIgQnJ1bm8gU3Ryb3N6ZWs8XC90ZD48dGQ+XHU1ZTAzXHU5YzgxXHU4YmZhXHUwMGI3XHU2NWFmXHU1MjE3XHU2NWFmXHU1NzY2QnJ1bm8gUy48XC90ZD48XC90cj48dHI+PHRkPkV2YTxcL3RkPjx0ZD5FdmEgTWF0dGVzPFwvdGQ+PFwvdHI+PFwvdGJvZHk+PFwvdGFibGU+In0sIjMiOnsic2VjdGlvbl90aXRsZSI6Ilx1NWY3MVx1NzI0N1x1OGQ0Zlx1Njc5MCIsInNlY3Rpb25fY29udGVudCI6IjxwPlx1NzcwYlx1OGZjN1x1NmM4M1x1N2ViM1x1NzY4NFx1MzAwYVx1OTY0Nlx1NGUwYVx1ODg0Y1x1ODIxZlx1MzAwYlx1ZmYwY1x1NjIxNlx1OGJiOFx1NGYxYVx1NjExZlx1NTNmOVx1NTE3Nlx1NGY1Y1x1NTRjMVx1NzY4NFx1OGQ4NVx1NTFlMVx1ODEzMVx1NGZkN1x1ZmYwY1x1NGU1Zlx1NjIxNlx1OGJiOFx1NmI2M1x1NjYyZlx1OGZkOVx1NjgzN1x1ZmYwY1x1NGUwZFx1NGU4Nlx1ODllM1x1NmM4M1x1N2ViM1x1NzY4NFx1NGY1Y1x1NTRjMVx1NzY4NFx1NGViYVx1NjYyZlx1NWY4OFx1OTZiZVx1NjNhNVx1NTNkN1x1NTE3Nlx1OThjZVx1NjgzY1x1NzY4NFx1MzAwMlx1NGVkNlx1NzY4NFx1NTNlNlx1NGUwMFx1OTBlOFx1NGY1Y1x1NTRjMVx1MzAwYVx1NTNmMlx1Njk1YVx1OTUyMVx1NmQ0MVx1NmQ2YVx1OGJiMFx1MzAwYlx1ZmYwY1x1NGU1Zlx1NjYyZlx1NGUwZFx1NTNlZlx1NTkxYVx1NWY5N1x1NzY4NFx1N2NiZVx1NTRjMVx1MzAwMjxcL3A+PHA+XHU4ODY4XHU5NzYyXHU0ZTBhXHVmZjBjXHU1ZjcxXHU3MjQ3XHU0ZjNjXHU0ZTRlXHU2NjJmXHU1YmY5XHU3OTNlXHU0ZjFhXHU2MGYzXHU4YzYxXHU3Njg0XHU0ZTAwXHU3OWNkXHU2Mjc5XHU1MjI0XHVmZjBjXHU2NWUwXHU4YmJhXHU2NjJmXHU2MjM0XHU3NzQwXHU1MDQ3XHU5NzYyXHU1MTc3XHU3Njg0XHU4NjVhXHU0ZjJhXHU3Njg0XHU5NGY2XHU4ODRjXHU1MGFjXHU2YjNlXHU1NDU4XHVmZjBjXHU4ZmQ4XHU2NjJmXHU5MGEzXHU0ZTJhXHU4MGZkXHU1NzI4XHU1MWUwXHU1MjA2XHU5NDlmXHU1MTg1XHU1YzA2XHU3OWZiXHU1MmE4XHU2MjNmXHU2MmNkXHU1MzU2XHU3Njg0XHU2MjNmXHU0ZTNiXHVmZjBjXHU5MGZkXHU2NjJmXHU1M2YyXHU2OTVhXHU5NTIxXHU3Njg0XHU2MGIyXHU1MjY3XHU3Njg0XHU1MjM2XHU5MDIwXHU4MDA1XHVmZjBjXHU0ZWQ2XHU0ZWVjXHU2NWUwXHU3NTkxXHU5MGZkXHU3Y2JlXHU0ZThlXHU2YjY0XHU5MDUzXHVmZjBjXHU1M2VmXHU0ZWU1XHU2MGYzXHU4YzYxXHU2NzA5XHU1OTFhXHU1YzExXHU0ZWJhXHU0ZTcwXHU4ZmM3XHU0ZWQ2XHU0ZWVjXHU3Njg0XHU2MjNmXHVmZjBjXHU4MDBjXHU1M2M4XHU2NzA5XHU1OTFhXHU1YzExXHU0ZWJhXHU3Njg0XHU2MjNmXHU1YjUwXHU1NmUwXHU0ZTNhXHU0ZWQ4XHU0ZTBkXHU4ZDc3XHU2YjNlXHU4MDBjXHU4OGFiXHU2MmNkXHU1MzU2XHUzMDAyXHU1M2YyXHU2OTVhXHU5NTIxXHU1MjMwXHU3ZjhlXHU1NmZkXHU2NjJmXHU0ZTNhXHU0ZTg2XHU2NmY0XHU1YmI5XHU2NjEzXHU1NzMwXHU4ZDVhXHU1MjMwXHU5NGIxXHVmZjBjXHU0ZjQ2XHU3ZjhlXHU1NmZkXHU0ZTVmXHU2NjJmXHU1MTc2XHU2NmY0XHU1ZmViXHU4ZDcwXHU1YjhjXHU0ZWJhXHU3NTFmXHU3Njg0XHU1MGFjXHU1MzE2XHU1MjQyXHVmZjBjXHU4ZmQ5XHU0ZTAwXHU3MGI5XHU2NWUwXHU3NTkxXHU2NjJmXHU0ZTNhXHU5MGEzXHU0ZTliXHU1MDVhXHU3NzQwXHU1MWZhXHU1NmZkXHU2OGE2XHU3Njg0XHU0ZWJhXHU0ZWVjXHU2NTcyXHU1NGNkXHU3Njg0XHU4YjY2XHU5NDlmXHUzMDAyPFwvcD48cD5cdTY1ZTBcdThiYmFcdTY2MmZcdTcyNDdcdTVjM2VcdTkwYTNcdTU5MzRcdTRlMDBcdTU0MmNcdTk3ZjNcdTRlNTBcdTVjMzFcdThkZjNcdTgyMWVcdTc2ODRcdTllMjFcdWZmMGNcdThmZDhcdTY2MmZcdTRlMDBcdTc3MGJcdTcwNmZcdTUxNDlcdTVjMzFcdTYzMDlcdThiNjZcdTk0YzNcdTc2ODRcdTUxNTRcdTViNTBcdWZmMGNcdTViODNcdTRlZWNcdTkwZmRcdTU5Y2JcdTdlYzhcdTkwMDNcdTgxMzFcdTRlMGRcdTRlODZcdTRlMDBcdTc5Y2RcdTU0N2RcdThmZDBcdTc2ODRcdTY3NWZcdTdmMWFcdTMwMDJcdTUzZjJcdTY5NWFcdTk1MjFcdTYwZjNcdTY0NDZcdTgxMzFcdTgxZWFcdTVkZjFcdTc2ODRcdTU0N2RcdThmZDBcdWZmMGNcdTRmNDZcdTUzNzRcdTUzYzhcdTkxY2RcdTY1YjBcdThkNzBcdTRlMGFcdTRlODZcdTcyYWZcdTdmNmFcdTc2ODRcdTkwNTNcdThkZWY7XHU1N2MzXHU1YTAzXHU0ZTBkXHU1ZTBjXHU2NzFiXHU1MThkXHU1MDVhXHU1OTkzXHU1OTczXHVmZjBjXHU0ZjQ2XHU2MGM1XHU1MmJmXHU2MjQwXHU5MDNjXHVmZjBjXHU1M2M4XHU5MWNkXHU2NGNkXHU2NWU3XHU0ZTFhXHUzMDAyXHU3M2IwXHU1YjllXHU3NTFmXHU2ZDNiXHU0ZTJkXHU3Njg0XHU0ZWJhXHU0ZWVjXHU1M2M4XHU0ZjU1XHU1YzFkXHU0ZTBkXHU2NjJmXHU2NWU1XHU1MWZhXHU4MDBjXHU0ZjVjXHUzMDAxXHU2NWU1XHU4NDNkXHU4MDBjXHU2MDZmXHU1NzMwXHU4ZmRiXHU4ODRjXHU3NzQwXHU0ZTAwXHU3OWNkXHU1ZmFhXHU3M2FmXHU1NDYyPzxcL3A+In0sIjQiOnsic2VjdGlvbl90aXRsZSI6Ilx1NWU1NVx1NTQwZVx1ODJiMVx1N2Q2ZSIsInNlY3Rpb25fY29udGVudCI6W3sic3ViX3NlY3Rpb25fdGl0bGUiOiJcdTUxNzNcdTRlOGVcdTVmNzFcdTcyNDciLCJzdWJfc2VjdGlvbl9jb250ZW50IjoiPHA+XHU3NTM1XHU1ZjcxXHU0ZTJkXHU1M2VmXHU2MDE1XHU3Njg0XHU1NmRlXHU1NzA4XHU4YzYxXHU1ZjgxXHU2NzgxXHU3YWVmXHU2MGIyXHU4OWMyXHU0ZTNiXHU0ZTQ5XHVmZjBjXHU0ZWJhXHU3Njg0XHU2NWUwXHU4MGZkXHU4MWY0XHU0ZjdmXHU3M2FmXHU1ODgzXHU1MjM2XHU3ZWE2XHU1ZjNhXHU1OTI3XHVmZjBjXHU2NWUwXHU4YmJhXHU2NjJmXHU3MjQ3XHU0ZTJkXHU5MGEzXHU1OTM0XHU0ZTAwXHU1NDJjXHU5N2YzXHU0ZTUwXHU1YzMxXHU4ZGYzXHU4MjFlXHU3Njg0XHU5ZTIxXHVmZjBjXHU4ZmQ4XHU2NjJmXHU0ZTAwXHU3NzBiXHU3MDZmXHU1MTQ5XHU1YzMxXHU2MzA5XHU4YjY2XHU5NGMzXHU3Njg0XHU1MTU0XHU1YjUwXHVmZjBjXHU3NTFhXHU4MWYzXHU2NjJmXHU5MTUyXHU5YjNjXHU1M2YyXHU2OTVhXHU5NTIxXHU1NDhjXHU1OTkzXHU1OTczXHU4MjdlXHU1YTAzXHVmZjBjXHU0ZWQ2XHU0ZWVjXHU1OWNiXHU3ZWM4XHU5MDAzXHU4MTMxXHU0ZTBkXHU1MWZhXHU1NDdkXHU4ZmQwXHU3Njg0XHU2NzVmXHU3ZjFhXHUzMDAyPFwvcD4ifSx7InN1Yl9zZWN0aW9uX3RpdGxlIjoiXHU1MTczXHU0ZThlXHU1YmZjXHU2ZjE0Iiwic3ViX3NlY3Rpb25fY29udGVudCI6IjxwPlx1ODhhYlx1OGE4OVx1NGUzYVwiXHU1ZmI3XHU1NmZkXHU2NWIwXHU3NTM1XHU1ZjcxXCJcdTRlMDlcdTU5MjdcdTViZmNcdTZmMTRcdTRlNGJcdTRlMDBcdTc2ODRcdTZjODNcdTdlYjNcdTAwYjdcdThkNmJcdTVjMTRcdTRmNTBcdTY4M2NcdWZmMGNcdTRlZDZcdTUzZWZcdTRlZTVcdTRlM2FcdTYyY2RcdTcyNDdcdTUwYWNcdTc3MjBcdTYyNDBcdTY3MDlcdTRlYmFcdTU0NThcdWZmMGNcdTYyZmZcdTY3YWFcdTYzMDdcdTc3NDBcdTVkZThcdTY2MWZcdWZmMGNcdTYyMTZcdThiYTlcdTRmOGZcdTUxMTJcdTMwMDFcdTY2N2FcdTk2OWNcdTgwMDVcdTYyYzVcdTRlZmJcdTRlM2JcdTg5ZDJcdWZmMGNcdTc1MWFcdTgxZjNcdTYyOGFcdTRlMDBcdTgyNThcdTc3MWZcdTgyMzlcdTYyYzlcdTUyMzBcdTVjNzFcdTRlMGFcdTYyY2RcdTYyMGZcdTMwMDJcdTZjODNcdTdlYjNcdTAwYjdcdThkNmJcdTVjMTRcdTRmNTBcdTY4M2NcdTc1MzVcdTVmNzFcdTc2ODRcdTYwYzVcdTgyODJcdTVjM2RcdTdiYTFcdTViOWJcdTgyZTVcdTRmMjBcdTU5NDdcdWZmMGNcdTRmNDZcdTY0NDRcdTUyMzZcdThmYzdcdTdhMGJcdTY2ZjRcdTY2MmZcdTRlMGRcdTUzZWZcdTYwMWRcdThiYWVcdWZmMGNcdTU3MjhcdTc1YWZcdTcyYzJcdTc2ODRcdTlhOWFcdTUyYThcdTRlMGJcdWZmMGNcdTYyMTBcdTVjMzFcdTRlODZcdTUyMWJcdTkwMjBcdTYwMjdcdTc2ODRcdTdmOGVcdTYxMWZcdTRlMGVcdTc5NWVcdTc5ZDhcdTYxNTFcdTRlYmFcdTc2ODRcdTliNDVcdTUyOWJcdTMwMDI8XC9wPiJ9XX0sIjUiOnsic2VjdGlvbl90aXRsZSI6Ilx1NWY3MVx1NzI0N1x1ODNiN1x1NTk1NiIsInNlY3Rpb25fY29udGVudCI6IjxwPkdlcm1hbiBGaWxtIENyaXRpY3MgQXNzb2NpYXRpb24gQXdhcmRzIDE5Nzg8XC9wPjxwPkJlc3QgRmlsbSAoQmVzdGVyIFNwaWVsZmlsbSkgXHU2YzgzXHU3ZWIzXHUwMGI3XHU4ZDZiXHU1YzE0XHU0ZjUwXHU2ODNjPFwvcD4ifSwiNiI6eyJzZWN0aW9uX3RpdGxlIjoiXHU0ZTBhXHU2NjIwXHU2NWU1XHU2NzFmIiwic2VjdGlvbl9jb250ZW50IjoiPHA+XHU3ZjhlXHU1NmZkPGVtPlVTQTxcL2VtPjE5NzdcdTVlNzQxXHU2NzA4MTJcdTY1ZTU8XC9wPjxwPjxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCJcL2RvY1wvNTg1ODA5Mi02MDcwOTM1Lmh0bWxcIj5cdTg5N2ZcdTVmYjc8XC9hPjxlbT5XZXN0IEdlcm1hbnk8XC9lbT4xOTc3XHU1ZTc0NVx1NjcwODIwXHU2NWU1PFwvcD48cD48YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiXC9kb2NcLzM4NzI2NTYtNDA2NTQ2OC5odG1sXCI+XHU1MmEwXHU2MmZmXHU1OTI3PFwvYT48ZW0+Q2FuYWRhPFwvZW0+MTk3N1x1NWU3NDlcdTY3MDgxMFx1NjVlNTxlbT4uLi4uLi4oVG9yb250byBGaWxtIEZlc3RpdmFsKTxcL2VtPjxcL3A+PHA+XHU3NDVlXHU1MTc4PGVtPlN3ZWRlbjxcL2VtPjE5NzhcdTVlNzQxXHU2NzA4MVx1NjVlNTxcL3A+PHA+XHU4MmFjXHU1MTcwPGVtPkZpbmxhbmQ8XC9lbT4xOTc4XHU1ZTc0NFx1NjcwODE0XHU2NWU1PFwvcD48cD5cdTRlMmRcdTU2ZmRcdTk5OTlcdTZlMmY8ZW0+SG9uZyBLb25nPFwvZW0+MjAwMlx1NWU3NDEwXHU2NzA4MjhcdTY1ZTU8XC9wPiJ9LCI3Ijp7InNlY3Rpb25fdGl0bGUiOiJcdTUyMzZcdTRmNWNcdTUzZDFcdTg4NGMiLCJzZWN0aW9uX2NvbnRlbnQiOlt7InN1Yl9zZWN0aW9uX3RpdGxlIjoiXHU1MjM2XHU0ZjVjXHU1MTZjXHU1M2Y4Iiwic3ViX3NlY3Rpb25fY29udGVudCI6IjxwPlp3ZWl0ZXMgRGV1dHNjaGVzIEZlcm5zZWhlbiAoWkRGKVtcdTVmYjdcdTU2ZmRdPFwvcD48cD5XZXJuZXIgSGVyem9nIEZpbG1wcm9kdWt0aW9uW1x1NWZiN1x1NTZmZF08XC9wPjxwPlNrZWxsaWcgRWRpdGlvbltcdTVmYjdcdTU2ZmRdPFwvcD4ifSx7InN1Yl9zZWN0aW9uX3RpdGxlIjoiXHU1M2QxXHU4ODRjXHU1MTZjXHU1M2Y4Iiwic3ViX3NlY3Rpb25fY29udGVudCI6IjxwPk5ldyBZb3JrZXIgRmlsbXNbXHU3ZjhlXHU1NmZkXTxlbT4oVVNBKSAoc3VidGl0bGVkKTxcL2VtPjxcL3A+PHA+QWx0b21lZGlhLiBDby4gTHRkLltcdTk3ZTlcdTU2ZmRdPGVtPihLb3JlYSkgKERWRClcLyhLb3JlYSkgKFZIUyk8XC9lbT48XC9wPjxwPkNpbmVtYXRvZ3JcdTAwZTFmaWNhIEYuSi5bXHU1ZGY0XHU4OTdmXTxlbT4oQnJhemlsKSAoVkhTKTxcL2VtPjxcL3A+PHA+THVtZSBGaWxtZXM8ZW0+KDIwMDgpIChCcmF6aWwpIChEVkQpPFwvZW0+PFwvcD48cD5QYWxhY2UgVmlkZW8gTHRkLjxlbT4oMTk4MikgKFVLKSAoVkhTKVwvKDE5ODIpIChVSykgKHZpZGVvKSAoQmV0YW1heCk8XC9lbT48XC9wPjxwPlJpcGxleSdzIEhvbWUgVmlkZW88ZW0+KDIwMDQpIChJdGFseSkgKERWRCk8XC9lbT48XC9wPiJ9XX19fSwiZW50cnlfZmVhdHVyZSI6eyJpZCI6IjI2Nzk5NDIiLCJlaWQiOiIzOTQ2MjA2Iiwic2lkIjoiNDE0MTIwMyIsImVuYW1lIjoiXHU1M2YyXHU2OTVhXHU5NTIxXHU2ZDQxXHU2ZDZhXHU4YmIwIiwic25hbWUiOiIiLCJ0eXBlX2lkIjoiNTA4IiwiaW50cm9fbGVuIjoiOTgiLCJpbnRyb19waWMiOiIxIiwiaW50cm9fcGljX3ciOiI0MjQiLCJpbnRyb19waWNfaCI6IjYwMCIsImludHJvX2xpbmsiOiIwIiwibW9kdWxlIjoiMTIiLCJjb250ZW50X2xlbiI6IjIzODciLCJjb250ZW50X2xpbmsiOiI1IiwiY29udGVudF9pbWciOiIxIiwiY29udGVudF9pbWdfaW50cm8iOiI0IiwiaDJfbnVtIjoiNyIsImgzX251bSI6IjQiLCJyZWZfbnVtIjoiMCIsImZ1cl9udW0iOiIwIiwidGFnX251bSI6IjEiLCJwdiI6IjAiLCJ1cGRhdGV0aW1lIjoiMjAxNy0wMS0xMyAxMzoyMjowOSIsImlzX2Vzc2VuY2UiOiIwIiwiaXNfcGVyc29uYWxfd2lkZ2V0cyI6IjAiLCJpc19wYXJ0bmVyIjoiMCIsImlzX2JhaWR1X2ltcG9ydCI6IjAiLCJpc19iYWlrZV9lZGl0IjoiMCJ9LCJlbnRyeV9pbmZvIjp7ImVuYW1lIjoiXHU1M2YyXHU2OTVhXHU5NTIxXHU2ZDQxXHU2ZDZhXHU4YmIwIiwidHlwZV9pZCI6IjUwOCIsIm5ld190eXBlcyI6Ijc2NyIsInVybCI6Imh0dHA6XC9cL2JhaWtlLnNvLmNvbVwvZG9jXC8zOTQ2MjA2LTQxNDEyMDMuaHRtbCJ9fQ=='
    url = 'http://baike.so.com/doc/3946206-4141203.html'
    obj = json.loads(base64.b64decode(content))
    # print obj['content']
    content = obj['content']['content']
    key = '4'
    print content[key].keys()
    print content[key]['section_title']
    print content[key]['section_content']
    # print html_unescape(content['1']['section_content'])

if __name__ == "__main__":
    test()
    # out_path = os.path.join(result_dir, '360/360_entity_info.json')
    # if not os.path.exists(os.path.dirname(out_path)):
    #     os.mkdir(os.path.dirname(out_path))
    # outf = file(out_path, 'w')
    # for filepath in glob.glob('data/360/*finish'):
    #     parse(filepath, outf)
    # outf.close()

    